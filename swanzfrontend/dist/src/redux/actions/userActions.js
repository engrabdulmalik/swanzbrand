import{U as y,a as S,b as l,c as _,d as i,e as R,G as T,f as I,g as c,h as U,i as d,j as g}from"../constants/userConstants.js";import{O as m}from"../constants/orderContants.js";import{a3 as p}from"../../../vendor.js";const L=(e,s)=>async a=>{try{a({type:y});const t={headers:{"Content-type":"application/json"}},{data:r}=await p.post("/api/users/login/",{email:e,password:s},t);a({type:S,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}catch(t){a({type:l,payload:t.response&&t.response.data.detail?t.response.data.detail:t.message})}},C=()=>e=>{localStorage.removeItem("userInfo"),e({type:U}),e({type:d}),e({type:m}),e({type:g})},A=(e,s,a,t,r)=>async n=>{try{n({type:_});const o={headers:{"Content-Type":"application/json"}},{data:E}=await p.post("/auth/users/",{first_name:e,last_name:s,email:a,password:t,re_password:r},o);n({type:i,payload:E}),n({type:S,payload:E}),localStorage.setItem("userInfo",JSON.stringify(E))}catch(o){n({type:R,payload:o.response&&o.response.data.detail?o.response.data.detail:o.message})}},u=e=>async s=>{try{s({type:T});const a={headers:{"Content-type":"application/json"}},{data:t}=await p.post("/auth/o/token/",{token:e},a);s({type:I,payload:t})}catch(a){s({type:c,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}};export{L as a,u as g,C as l,A as r};
