import{O as p,a as c,b as i,c as d,d as E,e as y,f as R,g as l,h as _,i as S,j as I,k as g,l as L,m as D,n as O}from"../constants/orderContants.js";import{e as C}from"../constants/cartConstants.js";import{g as n}from"../../../vendor.js";const u=t=>async(s,a)=>{try{s({type:S});const{userLogin:{userInfo:e}}=a(),o={headers:{"Content-type":"application/json",Authorization:`Bearer ${e.access}`}},{data:r}=await n.post("/api/orders/add/",t,o);s({type:I,payload:r}),s({type:C,payload:r}),localStorage.removeItem("cartItems")}catch(e){s({type:g,payload:e.response&&e.response.data.detail?e.response.data.detail:e.message})}},f=t=>async(s,a)=>{try{s({type:p});const{userLogin:{userInfo:e}}=a(),o={headers:{"Content-type":"application/json",Authorization:`Bearer ${e.access}`}},{data:r}=await n.get(`/api/orders/${t}/`,o);s({type:c,payload:r})}catch(e){s({type:i,payload:e.response&&e.response.data.detail?e.response.data.detail:e.message})}},U=()=>async(t,s)=>{try{t({type:d});const{userLogin:{userInfo:a}}=s(),e={headers:{"Content-type":"application/json",Authorization:`Bearer ${a.access}`}},{data:o}=await n.get("/api/orders/myorders/",e);t({type:E,payload:o})}catch(a){t({type:y,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}},$=()=>async(t,s)=>{try{t({type:R});const{userLogin:{userInfo:a}}=s(),e={headers:{"Content-type":"application/json",Authorization:`Bearer ${a.access}`}},{data:o}=await n.get("/api/orders/",e);t({type:l,payload:o})}catch(a){t({type:_,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}},j=t=>async(s,a)=>{try{s({type:L});const{userLogin:{userInfo:e}}=a(),o={headers:{"Content-type":"application/json",Authorization:`Bearer ${e.access}`}},{data:r}=await n.put(`/api/orders/${t}/deliver/`,{},o);s({type:D,payload:r})}catch(e){s({type:O,payload:e.response&&e.response.data.detail?e.response.data.detail:e.message})}};export{U as a,u as c,j as d,f as g,$ as l};
