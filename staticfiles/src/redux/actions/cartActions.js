import{C as r,a as n,b as p,c as i,d as m}from"../constants/cartConstants.js";import{g as y}from"../../../vendor.js";const I=(t,a)=>async(o,c)=>{try{const{data:e}=await y.get(`/api/products/${t}`),s=e.countInStock-a;if(s<0){o({type:r,payload:"Sorry. Product is out of stock"});return}o({type:n,payload:{product:e._id,name:e.name,image:e.image,price:e.price,countInStock:s,qty:a}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}catch(e){o({type:r,payload:e.message})}},g=t=>(a,o)=>{a({type:m,payload:t}),localStorage.setItem("cartItems",JSON.stringify(o().cart.cartItems))},l=t=>a=>{a({type:p,payload:t}),localStorage.setItem("shippingAddress",JSON.stringify(t))},A=t=>a=>{a({type:i,payload:t}),localStorage.setItem("paymentMethod",JSON.stringify(t))};export{I as a,A as b,g as r,l as s};
