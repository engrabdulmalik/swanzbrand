import{C as p,a as E,b as c,c as i,d as T,e as d,f as y,g as C,h as _}from"../constants/productConstants.js";import{a5 as r}from"../../../vendor.js";const l=t=>async e=>{try{e({type:i});const{data:a}=await r.get(`/api/products/${t}`);e({type:T,payload:a})}catch(a){e({type:d,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}},g=()=>async t=>{try{t({type:p});const{data:e}=await r.get("/api/categories/");t({type:E,payload:e})}catch(e){t({type:c,payload:e.response&&e.response.data.message?e.response.data.message:e.message})}},A=(t,e)=>async(a,o)=>{try{a({type:y});const{userLogin:{userInfo:s}}=o(),n={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access}`}};return await r.post(`/api/products/${t}/reviews/`,e,n),a({type:C}),{success:!0}}catch(s){return a({type:_,payload:s.response&&s.response.data.detail?s.response.data.detail:s.message}),{success:!1,error:s.response&&s.response.data.detail?s.response.data.detail:s.message}}};export{l as a,A as c,g as l};
