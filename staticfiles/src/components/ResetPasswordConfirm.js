import{u,c as p,d as c,e as m,a as _,j as s,B as h,f,A as x,T as i,o as b}from"../../vendor.js";import{b as g}from"../redux/actions/userActions.js";import{F as v}from"./FormContainer.js";import{S as P,u as j,c as y,e as w,f as C}from"../../async-vendor.js";import"../../__commonjsHelpers__.js";import"../redux/constants/userConstants.js";import"../redux/constants/orderContants.js";const q=()=>{const a=u(),l=p(),{uid:o,token:t}=c();console.log(o,t);const{error:n,success:d}=m(r=>r.userPasswordResetConfirm);_.useEffect(()=>{d&&(P.fire({title:"Success!",text:"Your password has been reset successfully.",icon:"success"}),a("/login"))},[d,a]);const e=j({initialValues:{new_password:"",re_new_password:""},validationSchema:y({new_password:w().required("New Password is required").min(6,"Password must be at least 6 characters"),re_new_password:w().oneOf([C("new_password"),null],"Passwords must match").required("Please confirm your new password")}),onSubmit:r=>{l(g(o,t,r.new_password,r.re_new_password))}});return s.jsx(v,{children:s.jsxs(h,{sx:{flexGrow:1,p:3},children:[s.jsx(f,{variant:"h4",gutterBottom:!0,align:"center",children:"Reset Password"}),n&&s.jsx(x,{severity:"error",children:n}),s.jsxs("form",{onSubmit:e.handleSubmit,children:[s.jsx(i,{fullWidth:!0,id:"new_password",name:"new_password",label:"New Password",type:"password",variant:"outlined",value:e.values.new_password,onChange:e.handleChange,error:e.touched.new_password&&!!e.errors.new_password,helperText:e.touched.new_password&&e.errors.new_password,sx:{mb:2}}),s.jsx(i,{fullWidth:!0,id:"re_new_password",name:"re_new_password",label:"Confirm New Password",type:"password",variant:"outlined",value:e.values.re_new_password,onChange:e.handleChange,error:e.touched.re_new_password&&!!e.errors.re_new_password,helperText:e.touched.re_new_password&&e.errors.re_new_password,sx:{mb:2}}),s.jsx(b,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Reset Password"})]})]})})};export{q as default};
