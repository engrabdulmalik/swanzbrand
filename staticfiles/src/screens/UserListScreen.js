import{c as y,u as b,e as n,a as w,j as e,f as l,C,a2 as D,P as T,a3 as L,a4 as _,a5 as c,a6 as r,a7 as E,I as d}from"../../vendor.js";import{r as S,s as U,n as A,g as I,S as $}from"../../async-vendor.js";import{F as v}from"../components/FormContainer.js";import{f as B,h as F}from"../redux/actions/userActions.js";import"../../__commonjsHelpers__.js";import"../redux/constants/userConstants.js";import"../redux/constants/orderContants.js";const z=()=>{const i=y(),a=b(),x=n(s=>s.userList),{loading:h,error:o,users:j}=x,m=n(s=>s.userLogin),{userInfo:t}=m,u=n(s=>s.userDelete),{success:f}=u;w.useEffect(()=>{t&&t.isAdmin?i(B()):a("/login")},[i,a,t,f]);const p=s=>{a(`/admin/user/${s}/edit`)},g=s=>{window.confirm("Are you sure you want to delete this user?")&&(i(F(s)),$.fire({title:"Great job!",text:"User Deleted Successfully",icon:"success"}).then(()=>{window.location.reload()}))};return e.jsxs(v,{children:[e.jsx(l,{variant:"h4",component:"h1",gutterBottom:!0,children:"Users"}),h?e.jsx(C,{}):o?e.jsx(l,{color:"error",children:o}):e.jsx(D,{component:T,children:e.jsxs(L,{children:[e.jsx(_,{children:e.jsxs(c,{children:[e.jsx(r,{children:"ID"}),e.jsx(r,{children:"First Name"}),e.jsx(r,{children:"Last Name"}),e.jsx(r,{children:"Email"}),e.jsx(r,{children:"Admin"}),e.jsx(r,{children:"Edit"}),e.jsx(r,{children:"Delete"})]})}),e.jsx(E,{children:j.map(s=>e.jsxs(c,{children:[e.jsx(r,{children:s.id}),e.jsx(r,{children:s.first_name}),e.jsx(r,{children:s.last_name}),e.jsx(r,{children:s.email}),e.jsx(r,{children:s.isAdmin?e.jsx(S,{color:"primary"}):e.jsx(U,{color:"error"})}),e.jsx(r,{children:e.jsx(d,{onClick:()=>p(s.id),children:e.jsx(A,{color:"primary"})})}),e.jsx(r,{children:e.jsx(d,{onClick:()=>g(s.id),children:e.jsx(I,{color:"error"})})})]},s.id))})]})})]})};export{z as default};
