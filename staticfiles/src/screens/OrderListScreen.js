import{c as m,u,e as t,a as g,j as e,B as f,f as r,C as D,a2 as v,P,a3 as b,a4 as C,a5 as d,a6 as i,a7 as y,I as A}from"../../vendor.js";import{l as T}from"../../async-vendor.js";import{F as O}from"../components/FormContainer.js";import{l as I}from"../redux/actions/orderActions.js";import"../../__commonjsHelpers__.js";import"../redux/constants/orderContants.js";import"../redux/constants/cartConstants.js";const H=()=>{const l=m(),n=u(),o=t(s=>s.orderList),{loading:x,error:a,orders:h}=o,j=t(s=>s.userLogin),{userInfo:c}=j;g.useEffect(()=>{c.isAdmin?l(I()):n("/login")},[l,n,c]);const p=s=>{n(`/order/${s}`)};return e.jsxs(O,{children:[e.jsx(f,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:e.jsx(r,{variant:"h4",component:"h1",children:"Orders"})}),x?e.jsx(D,{}):a?e.jsx(r,{color:"error",children:a}):e.jsx(v,{component:P,children:e.jsxs(b,{children:[e.jsx(C,{children:e.jsxs(d,{children:[e.jsx(i,{children:"ID"}),e.jsx(i,{children:"User"}),e.jsx(i,{children:"Date"}),e.jsx(i,{children:"Total"}),e.jsx(i,{children:"Paid"}),e.jsx(i,{children:"Paid At"}),e.jsx(i,{children:"Delivered"}),e.jsx(i,{children:"Delivered At"}),e.jsx(i,{children:"Details"})]})}),e.jsx(y,{children:h.map(s=>e.jsxs(d,{children:[e.jsx(i,{children:s._id}),e.jsx(i,{children:s.user&&s.user.name}),e.jsx(i,{children:s.createdAt.substring(0,10)}),e.jsxs(i,{children:["$",s.totalPrice]}),e.jsx(i,{children:s.paymentMethod==="cashOnDelivery"?s.isPaid?e.jsx(r,{sx:{color:"green"},children:"COD (Paid)"}):e.jsx(r,{sx:{color:"orange"},children:"COD (Unpaid)"}):s.isPaid?e.jsx(r,{sx:{color:"green"},children:"Paid"}):e.jsx(r,{color:"error",children:"Not Paid"})}),e.jsx(i,{children:s.isPaid&&s.paidAt?s.paidAt.substring(0,10):"-"}),e.jsx(i,{children:s.isDelivered?e.jsx(r,{sx:{color:"green"},children:"Delivered"}):e.jsx(r,{color:"error",children:"Not Delivered"})}),e.jsx(i,{children:s.isDelivered&&s.deliveredAt?s.deliveredAt.substring(0,10):"-"}),e.jsx(i,{children:e.jsx(A,{onClick:()=>p(s._id),children:e.jsx(T,{color:"primary"})})})]},s._id))})]})})]})};export{H as default};
